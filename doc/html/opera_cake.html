

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Opera Cake &mdash; HackRF  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/status.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="FAQ" href="faq.html" />
    <link rel="prev" title="Jawbreaker" href="jawbreaker.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> HackRF
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">User Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="hackrf_one.html">HackRF One</a></li>
<li class="toctree-l1"><a class="reference internal" href="jawbreaker.html">Jawbreaker</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Opera Cake</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#using-opera-cake">Using Opera Cake</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#banks">Banks</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ports">Ports</a></li>
<li class="toctree-l3"><a class="reference internal" href="#leds">LEDs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#board-address">Board Address</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#modes-of-operation">Modes of Operation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#manual-mode">Manual Mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="#frequency-mode">Frequency Mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="#time-mode">Time Mode</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_help.html">Getting Help</a></li>
<li class="toctree-l1"><a class="reference internal" href="tips_tricks.html">Tips and Tricks</a></li>
<li class="toctree-l1"><a class="reference internal" href="hackrf_projects_mentions.html">HackRF Community Projects and Mentions</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Software</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="installing_hackrf_software.html">Installing HackRF Software</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started_hackrf_gnuradio.html">Getting Started with HackRF and GNU Radio</a></li>
<li class="toctree-l1"><a class="reference internal" href="software_support.html">HackRF Compatible Software</a></li>
<li class="toctree-l1"><a class="reference internal" href="libhackrf_api.html">libhackRF API</a></li>
<li class="toctree-l1"><a class="reference internal" href="hackrf_sweep.html">hackrf_sweep</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Firmware</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="updating_firmware.html">Updating Firmware</a></li>
<li class="toctree-l1"><a class="reference internal" href="firmware_development_setup.html">Firmware Development Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="LPC43XX_Debugging.html">LPC43xx Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="LPC43XX_SGPIO_Configuration.html">LPC43xx SGPIO Configuration</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Hardware</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="list_of_hardware_revisions.html">List of Hardware Revisions</a></li>
<li class="toctree-l1"><a class="reference internal" href="hardware_components.html">Hardware Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="enclosure_options.html">Enclosure Options</a></li>
<li class="toctree-l1"><a class="reference internal" href="hackrfs_buttons.html">HackRF One’s Buttons</a></li>
<li class="toctree-l1"><a class="reference internal" href="external_clock_interface.html">External Clock Interface (CLKIN and CLKOUT)</a></li>
<li class="toctree-l1"><a class="reference internal" href="expansion_interface.html">Expansion Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="hardware_triggering.html">Hardware Triggering</a></li>
<li class="toctree-l1"><a class="reference internal" href="rf_shield_installation.html">RF Shield Installation Instructions</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">HackRF</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Opera Cake</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/opera_cake.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="opera-cake">
<h1>Opera Cake<a class="headerlink" href="#opera-cake" title="Permalink to this headline">¶</a></h1>
<img alt="Opera Cake" src="_images/operacake.jpeg" />
<p>Opera Cake is an antenna switching add-on board for HackRF One. Consisting of two 1x4 switches, Opera Cake also has a cross-over switch that permits operation as a 1x8 switch. Up to eight Opera Cakes may be stacked onto a single HackRF One provided that each Opera Cake is configured with a different board address.</p>
<p>Opera Cake is configured with the <code class="docutils literal notranslate"><span class="pre">hackrf_operacake</span></code> command-line tool.</p>
<section id="using-opera-cake">
<h2>Using Opera Cake<a class="headerlink" href="#using-opera-cake" title="Permalink to this headline">¶</a></h2>
<section id="banks">
<h3>Banks<a class="headerlink" href="#banks" title="Permalink to this headline">¶</a></h3>
<p>Opera Cake’s ports are grouped in two banks (or “sides”), one on each end of the board. Bank A consists of ports A0 through A4 while bank B consists of ports B0 through B4.</p>
</section>
<section id="ports">
<h3>Ports<a class="headerlink" href="#ports" title="Permalink to this headline">¶</a></h3>
<p>Opera Cake has two primary ports, A0 and B0, each of which can be switched to any of eight secondary ports, A1-A4 and B1-B4. Each primary port is always connected to one secondary port. By default, A0 is connected to A1, and B0 is connected to B1. It is not possible to connect both primary ports to secondary ports in the same bank at the same time.</p>
<p>Port connections may be configured manually. For example, to connect A0 to A2 and B0 to B3:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>hackrf_operacake -a A2 -b B3
</pre></div>
</div>
<p>To connect A0 to B2 and B0 to A4:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>hackrf_operacake -a B2 -b A4
</pre></div>
</div>
<p>If only one primary port is configured, the other primary port will be connected to the first secondary port on the opposite side. For example, after the next two commands B0 will be connected to A1:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>hackrf_operacake -a A2 -b B3
hackrf_operacake -a B2
</pre></div>
</div>
</section>
<section id="leds">
<h3>LEDs<a class="headerlink" href="#leds" title="Permalink to this headline">¶</a></h3>
<p>Port selections are indicated by LEDs next to each port’s connector. Port A0 and the secondary port connected to A0 are indicated with a green LED. Port B0 and the secondary port connected to B0 are indicated with a yellow LED.</p>
</section>
<section id="board-address">
<h3>Board Address<a class="headerlink" href="#board-address" title="Permalink to this headline">¶</a></h3>
<p>Each Opera Cake has a numeric address set by optional jumpers installed on header P1. The default address (without jumpers) is 0. The <code class="docutils literal notranslate"><span class="pre">--list</span></code> or <code class="docutils literal notranslate"><span class="pre">-l</span></code> option can be used to list the address(es) of one or more Opera Cakes installed on a HackRF One:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>hackrf_operacake -l
</pre></div>
</div>
<p>The address may be set to any number from 0 to 7 by installing jumpers across the A0, A1, and/or A2 pins of header P1.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Address</p></th>
<th class="head"><p>A2 Jumper</p></th>
<th class="head"><p>A1 Jumper</p></th>
<th class="head"><p>A0 Jumper</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>No</p></td>
<td><p>No</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>No</p></td>
<td><p>No</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>No</p></td>
<td><p>Yes</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>No</p></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-even"><td><p>4</p></td>
<td><p>Yes</p></td>
<td><p>No</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-odd"><td><p>5</p></td>
<td><p>Yes</p></td>
<td><p>No</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-even"><td><p>6</p></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-odd"><td><p>7</p></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
</tr>
</tbody>
</table>
<p>When configuring an Opera Cake, the address may be specified with the <code class="docutils literal notranslate"><span class="pre">--address</span></code> or <code class="docutils literal notranslate"><span class="pre">-o</span></code> option:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>hackrf_operacake -o <span class="m">1</span> -a A1 -b B2
</pre></div>
</div>
<p>If the address is unspecified, 0 is assumed. It is only necessary to specify the address if the address has been changed with the addition of jumpers, typically required only if multiple Opera Cakes are stacked onto a single HackRF One.</p>
</section>
</section>
<section id="modes-of-operation">
<h2>Modes of Operation<a class="headerlink" href="#modes-of-operation" title="Permalink to this headline">¶</a></h2>
<p>Opera Cake supports three modes of operation: <code class="docutils literal notranslate"><span class="pre">manual</span></code>, <code class="docutils literal notranslate"><span class="pre">frequency</span></code>, and <code class="docutils literal notranslate"><span class="pre">time</span></code>. The operating mode can be set with the <code class="docutils literal notranslate"><span class="pre">--mode</span></code> or <code class="docutils literal notranslate"><span class="pre">-m</span></code> option, and the active operating mode is displayed with the <code class="docutils literal notranslate"><span class="pre">--list</span></code> or <code class="docutils literal notranslate"><span class="pre">-l</span></code> option.</p>
<section id="manual-mode">
<h3>Manual Mode<a class="headerlink" href="#manual-mode" title="Permalink to this headline">¶</a></h3>
<p>The default mode of operation is <code class="docutils literal notranslate"><span class="pre">manual</span></code>. In manual mode, fixed port connections are configured with the <code class="docutils literal notranslate"><span class="pre">-a</span></code> and <code class="docutils literal notranslate"><span class="pre">-b</span></code> options as in the port configuration examples above. If the operating mode has been changed, it can be changed back to manual mode with:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>hackrf_operacake -m manual
</pre></div>
</div>
</section>
<section id="frequency-mode">
<h3>Frequency Mode<a class="headerlink" href="#frequency-mode" title="Permalink to this headline">¶</a></h3>
<p>In frequency mode, the A0 port connection switches automatically whenever the HackRF is tuned to a different frequency. This is useful when antennas for different frequency bands are connected to various ports.</p>
<p>The bands are specified in priority order. The final band specified will be used for frequencies not covered by the other bands specified.</p>
<p>To assign frequency bands to ports you must use the <code class="docutils literal notranslate"><span class="pre">-f</span> <span class="pre">&lt;port:min:max&gt;</span></code> option for each band, with the minimum and maximum frequencies specified in MHz. For example, to use port A1 for 100 MHz to 600 MHz, A3 for 600 MHz to 1200 MHz, and B2 for 0 MHz to 4 GHz:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>hackrf_operacake -m frequency -f A1:100:600 -f A3:600:1200 -f B2:0:4000
</pre></div>
</div>
<p>If tuning to precisely 600 MHz, A1 will be used as it is listed first. Tuning to any frequency over 4 GHz will use B2 as it is the last listed and therefore the default port.</p>
<p>Only the A0 port connection is specified in frequency mode. Whenever the A0 connection is switched, the B0 connection is also switched to the secondary port mirroring A0’s secondary port. For example, when A0 switches to B2, B0 is switched to A2.</p>
<p>Once configured, an Opera Cake will remain in frequency mode until the mode is reconfigured or until the HackRF One is reset. You can pre-configure the Opera Cake in frequency mode, and the automatic switching will continue to work while using other software.</p>
<p>Although multiple Opera Cakes on a single HackRF One may be set to frequency mode at the same time, they share a single switching plan. This can be useful, for example, for a filter bank consisting of eight filters.</p>
</section>
<section id="time-mode">
<h3>Time Mode<a class="headerlink" href="#time-mode" title="Permalink to this headline">¶</a></h3>
<p>In time mode, the A0 port connection switches automatically over time, counted in units of the sample period. This is useful for experimentation with pseudo-doppler direction finding.</p>
<p>To cycle through four ports, one port every 1000 samples:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>hackrf_operacake -m time -t A1:1000 -t A2:1000 -t A3:1000 -t A4:1000
</pre></div>
</div>
<p>When the duration on multiple ports is the same, the <code class="docutils literal notranslate"><span class="pre">-w</span></code> option can be used to set the default dwell time:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>hackrf_operacake --mode time -w 1000 -t A1 -t A2 -t A3 -t A4
</pre></div>
</div>
<p>Only the A0 port connection is specified in time mode. Whenever the A0 connection is switched, the B0 connection is switched to the secondary port mirroring A0’s secondary port. For example, when A0 switches to B2, B0 is switched to A2.</p>
<p>Once configured, an Opera Cake will remain in time mode until the mode is reconfigured or until the HackRF One is reset. You can pre-configure the Opera Cake in time mode, and the automatic switching will continue to work while using other software.</p>
<p>Although multiple Opera Cakes on a single HackRF One may be set to time mode at the same time, they share a single switching plan.</p>
</section>
</section>
</section>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="faq.html" class="btn btn-neutral float-right" title="FAQ" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="jawbreaker.html" class="btn btn-neutral float-left" title="Jawbreaker" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Great Scott Gadgets.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>